<script>
async function initAR() {
  try {
    // Pedir c√°mara
    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
    document.body.insertAdjacentHTML("beforeend", "<p style='color:green;'>‚úÖ C√°mara lista</p>");

    // Pedir ubicaci√≥n
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        (pos) => {
          console.log("Ubicaci√≥n OK", pos.coords);
          document.body.insertAdjacentHTML("beforeend", "<p style='color:green;'>‚úÖ Ubicaci√≥n lista</p>");
          startAR(); // <-- Aqu√≠ reci√©n inicia la escena AR
        },
        (err) => {
          alert("Error en ubicaci√≥n: " + err.message);
        }
      );
    } else {
      alert("Tu navegador no soporta geolocalizaci√≥n");
    }
  } catch (err) {
    alert("Error al acceder a c√°mara: " + err.message);
  }
}

function startAR() {
  // Aqu√≠ va tu c√≥digo AR.js o A-Frame
  document.body.insertAdjacentHTML("beforeend", "<p style='color:blue;'>üöÄ Iniciando AR</p>");
}
</script>

<button onclick="initAR()">Iniciar AR</button>
